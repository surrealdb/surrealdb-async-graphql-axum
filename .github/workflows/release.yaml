# Use this workflow to trigger stable releases, both minor releases and patches

name: Stable release

on:
  workflow_dispatch:


jobs:
    release:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v4
            - name: install rust toolchain
              uses: actions-rs/toolchain@v1
              with:
                toolchain: stable

            - name: build
              run: cargo build
            
            - name: publish
              env:
                CARGO_REGISTRY_TOKEN: ${{ secrets.CARGO_REGISTRY_TOKEN }}
              run: cargo publish